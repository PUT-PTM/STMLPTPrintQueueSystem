{% extends 'base.html.twig' %}

{% block body %}
    <h2>User Management</h2>
    {% if users %}
        <table>
            <tr>
                <th>ID</th>
                <th>Username</th>
                <th>Email</th>
                <th>Last login</th>
                <th>Roles</th>
                <th>Locked</th>
            </tr>
        {% for user in users %}
            <tr class="{{ cycle(['odd', 'even'], loop.index0) }}">
                <td>{{ user.id }}</td>
                <td>{{ user.username }}</td>
                <td>{{ user.email }}</td>
                <td>{{ user.lastLogin|date('d.m.Y H:m:s') }}</td>
                <td>{{ user.roles|join(', ') }}</td>
                <td>{{ user.locked ? 'Yes' : 'No' }}</td>
            </tr>
        {% endfor %}
        </table>
    {% else %}
        <p>No users found, this shouldn't happened!</p>
    {% endif %}
    <a href="{{ path('admin_home') }}">Back to Admin Panel</a>
{% endblock %}
